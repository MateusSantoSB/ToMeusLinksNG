<div class="container-fluid">
    <div class="titulo">
            <div class="iconeSite">
                <h1>Tô Meus Links</h1>

            </div> 
            <div class="nomeUsuario">
                    <h1>Ola {{usuario.sub}}!!</h1>
             </div>
             <div (click)="sair()">
                <p id="logout">Logout</p><img src="/porta.png" id="imagemLogout" alt="">
             </div>

    </div>
    <div class="dashboard">
        
        <div class="links" id="linksUsuario">
            <h3>Seus Links</h3>

            <div >            

           @for(link of (links$|async);track $index){
              <div>
                 <a href="{{link.link_user}}">{{link.link_user}}</a>     
            </div>
            }@empty{
                <p>Você não tem Links cadastrados</p>

            }  
        
            </div>

        </div>

        @if(gerenciarLinks){
        <div class="links" >
            <h3>Gerenciar Links</h3>
            <div class="botoes">
                <button (click)="toAdicionar()"><p>Adicionar</p></button>
                <button (click)="toRemover()"><p>Remover </p></button>
                <button (click)="toEditar()"><p>Editar</p></button>
                <button><p>Visualizar Pagina</p></button>
            </div>
        </div>
    }

        @if(adicionarLink){
            <div class="links">
            <h3>Adicionar Link</h3>
            <div class="inputs" >
        <form [formGroup]="addLink">
            <p>URL/Link:</p>
            <input type="text" formControlName="link" placeholder="Link da sua rede social" >
            <p>Titulo</p>
            <input type="text" formControlName="titulo" placeholder="Titulo/Nome da sua rede " >

            <p>Icone</p>
            <select class="form-select" aria-label="Default select example" formControlName="icone" >
                    <option value="1">Instagram</option>
                    <option value="2">Linkedin</option>
                    <option value="3">Facebook</option>
                    <option value="4">Whatsapp</option>
                    <option value="5">Tiktok</option>
                    <option value="6">Youtube</option>
            </select>
        </form>
            </div>
            @if(msgAdicionado){
                <p id="msg">{{msg()}}</p>
            }
            <div class="botoes">
                     <button (click)="adicionarLinks()"><p>Adicionar</p></button>
                     <button (click)="toGerenciarLinks()"><p>Voltar</p></button>
            </div>
           

        </div>
    }
 

       @if(removerLink){ <div class="links" >
            <h3>Remover Link</h3>

                <div class="removerLinks">
           
                @for(link of (links$|async);track $index){
                <div class="removerLink">
                    <p>{{link.link_user}}</p><img src="/lixeira.png" alt="" (click)="removerLinks(link.titulo)">
                </div>
                }@empty {
                    <p>Você não tem links cadastrados</p>
                }

                </div>

              @if(msgRemovido){
                    <p id="msg">{{msg()}}</p>
              }

            <div class="botoes">
                     <button (click)="toGerenciarLinks()"><p>Voltar</p></button>
            </div>
           

        

    </div>
}



     @if(editarLink){
            <div class="links">
            <h3>Editar Link</h3>
           
                <div class="editarLinks">
           
                @for(link of (links$|async);track $index){
                <div class="editarLink">
                    <p>{{link.link_user}}</p><img src="/lapisW.png" alt="" (click)="edit2(link.titulo)">
                </div>
                }@empty {
                    <p>Você não tem links cadastrados</p>
                }

                </div>


          
            <div class="botoes">
                     <button (click)="toGerenciarLinks()"><p>Voltar</p></button>
            </div>
           

        </div>
    }



    @if(editarLink2){
            <div class="links">
            <h3>Editar Link</h3>
           
                <div class="editarLinks">
           
                <div class="editarLink2">
                    <form [formGroup]="editLink">
                    <p>Link</p>
                    <input type="text"  formControlName="link">
                    <p>Titulo</p>
                    <input type="text"  formControlName="titulo">
                    <p>Icone</p>
            <select class="form-select" aria-label="Default select example"formControlName="icone" >
                    <option value="1">Instagram</option>
                    <option value="2">Linkedin</option>
                    <option value="3">Facebook</option>
                    <option value="4">Whatsapp</option>
                    <option value="5">Tiktok</option>
                    <option value="6">Youtube</option>
            </select>  
                
                
                </form>
                    
                </div>
                

                </div>


           @if(msgEditado){
                <p id="msg" >{{msg()}}</p>
        }
            <div class="botoes">
                     <button type="button" (click)="editarLinks(linkEdit.titulo)"><p>Editar</p></button>
                     <button (click)="toGerenciarLinks()"><p>Voltar</p></button>
            </div>
           

        </div>
    }



</div>
</div>